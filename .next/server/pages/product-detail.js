(()=>{var e={};e.id=323,e.ids=[323,888,660],e.modules={5300:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>m,default:()=>h,getServerSideProps:()=>g,getStaticPaths:()=>x,getStaticProps:()=>p,reportWebVitals:()=>j,routeModule:()=>_,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>S});var r={};s.r(r),s.d(r,{default:()=>ProductDetail});var i=s(7093),a=s(5244),n=s(1323),l=s(9209),d=s.n(l),c=s(9597),o=s(997),u=s(6689);function ProductDetail(){let[e,t]=(0,u.useState)(null),[s,r]=(0,u.useState)(""),[i,a]=(0,u.useState)({}),[n,l]=(0,u.useState)("left"),[d,c]=(0,u.useState)(""),[h,p]=(0,u.useState)(null);if((0,u.useEffect)(()=>{let e=new URLSearchParams(window.location.search),s=e.get("id"),i=s?parseInt(s):null;if(!i){t(null);return}let n=products.find(e=>e.id===i);if(!n){t(null);return}t(n),r(n.colors?.[0]||"Black");let l=n.category?.toLowerCase().includes("bag"),d={};(l?["One Size"]:["XS","S","M","L","XL","XXL"]).forEach(e=>d[e]=0),a(d),document.title=`My Shop - ${n.name}`},[]),null===e)return o.jsx("p",{children:"Product not found."});let x=e.category?.toLowerCase().includes("bag"),g=e.colors||["Black","White","Red","Blue"];function formatPrice(e){return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e)}let m=Object.values(i).reduce((e,t)=>e+(parseInt(t)||0),0),j=m*e.price;function showToast(e,t="default"){p({message:e,type:t}),setTimeout(()=>p(null),3e3)}function handlePlacementChange(e){l(e.target.value)}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("main",{children:[o.jsx("div",{children:o.jsx("a",{href:"products.html",children:"â† Back to Products"})}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{children:[o.jsx("img",{src:e.image,alt:e.name,style:{width:"100%",height:"auto"}}),d&&o.jsx("img",{src:d,alt:"Uploaded Design",style:{position:"absolute",maxWidth:"40%",pointerEvents:"none"},className:n.replace(/\s+/g,"-")}),!d&&o.jsx("div",{children:o.jsx("p",{children:"Your design will appear here"})})]}),(0,o.jsxs)("div",{children:[o.jsx("h1",{children:e.name}),o.jsx("p",{children:formatPrice(e.price)}),(0,o.jsxs)("div",{children:[o.jsx("h3",{children:"Description"}),o.jsx("p",{children:e.description})]}),(0,o.jsxs)("div",{children:[o.jsx("h3",{children:"1. SELECT COLOR"}),o.jsx("div",{children:g.map((e,t)=>(0,o.jsxs)("label",{children:[o.jsx("input",{type:"radio",name:"color",value:e,checked:s===e,onChange:()=>r(e)}),e]},e))})]}),(0,o.jsxs)("div",{children:[o.jsx("h3",{children:"2. SELECT SIZE & QUANTITY"}),o.jsx("div",{children:(x?["One Size"]:["XS","S","M","L","XL","XXL"]).map(e=>(0,o.jsxs)("div",{children:[o.jsx("span",{children:e}),o.jsx("input",{type:"number",min:0,max:100,value:i[e]||0,onChange:t=>(function(e,t){let s=Math.max(0,Number(t)||0);a(t=>({...t,[e]:s}))})(e,t.target.value)})]},e))})]}),(0,o.jsxs)("div",{children:[o.jsx("h3",{children:"3. SELECT PLACEMENT"}),o.jsx("div",{children:["left","right","centre","bottom right","bottom left"].map(e=>(0,o.jsxs)("label",{children:[o.jsx("input",{type:"radio",name:"placement",value:e,checked:n===e,onChange:handlePlacementChange}),e.charAt(0).toUpperCase()+e.slice(1)]},e))})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{children:[o.jsx("span",{children:"Unit Price:"})," ",o.jsx("span",{children:formatPrice(e.price)})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{children:"Sub-Total:"})," ",o.jsx("span",{children:formatPrice(j)})]})]}),(0,o.jsxs)("div",{children:[o.jsx("button",{disabled:0===m,onClick:function(){if(0===m){showToast("Please select at least one size and quantity","error");return}Object.entries(i).forEach(([t,r])=>{r>0&&CartManager.addToCart(e.id,r,{color:s,size:t})}),showToast(`${m} ${1===m?"item":"items"} added to bag`,"success")},children:"ADD TO BAG"}),(0,o.jsxs)("div",{children:[o.jsx("input",{type:"file",id:"design-upload",name:"design_upload",accept:"image/*",style:{display:"none"},onChange:function(e){let t=e.target.files[0];if(!t)return;let s=new FileReader;s.onload=e=>{c(e.target.result)},s.readAsDataURL(t)}}),o.jsx("label",{htmlFor:"design-upload",style:{cursor:"pointer"},children:"UPLOAD YOUR DESIGN"})]}),o.jsx("button",{onClick:function(){WishlistManager.isInWishlist(e.id)?(WishlistManager.removeFromWishlist(e.id),showToast("Removed from wishlist","info")):(WishlistManager.addToWishlist(e.id),showToast("Added to wishlist","success"))},children:WishlistManager.isInWishlist(e.id)?"REMOVE FROM WISHLIST":"ADD TO WISHLIST"})]})]})]})]}),h&&o.jsx("div",{role:"alert","aria-live":"assertive",children:h.message})]})}let h=(0,n.l)(r,"default"),p=(0,n.l)(r,"getStaticProps"),x=(0,n.l)(r,"getStaticPaths"),g=(0,n.l)(r,"getServerSideProps"),m=(0,n.l)(r,"config"),j=(0,n.l)(r,"reportWebVitals"),S=(0,n.l)(r,"unstable_getStaticProps"),v=(0,n.l)(r,"unstable_getStaticPaths"),f=(0,n.l)(r,"unstable_getStaticParams"),P=(0,n.l)(r,"unstable_getServerProps"),b=(0,n.l)(r,"unstable_getServerSideProps"),_=new i.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/product-detail",pathname:"/product-detail",bundlePath:"",filename:""},components:{App:c.default,Document:d()},userland:r})},9597:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>MyApp});var r=s(997);s(4195),s(7109),s(3162),s(2533),s(9317),s(9398);var i=s(1649);function MyApp({Component:e,pageProps:{session:t,...s}}){return r.jsx(i.SessionProvider,{session:t,children:r.jsx(e,{...s})})}},7109:()=>{},2533:()=>{},4195:()=>{},3162:()=>{},9317:()=>{},9398:()=>{},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},1017:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[209,450],()=>__webpack_exec__(5300));module.exports=s})();