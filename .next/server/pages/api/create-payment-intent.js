"use strict";(()=>{var e={};e.id=144,e.ids=[144],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6090:e=>{e.exports=import("stripe")},4375:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>d,default:()=>u,routeModule:()=>l});var n=a(1802),s=a(7153),i=a(6249),o=a(2541),c=e([o]);o=(c.then?(await c)():c)[0];let u=(0,i.l)(o,"default"),d=(0,i.l)(o,"config"),l=new n.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/create-payment-intent",pathname:"/api/create-payment-intent",bundlePath:"",filename:""},userland:o});r()}catch(e){r(e)}})},2541:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>handler});var n=a(6090),s=e([n]);n=(s.then?(await s)():s)[0];let i=new n.default(process.env.STRIPE_SECRET_KEY);async function handler(e,t){if("POST"!==e.method){t.status(405).json({error:"Method not allowed"});return}let{amount:a}=e.body;if(!a){t.status(400).json({error:"Amount is required"});return}try{let e=await i.paymentIntents.create({amount:a,currency:"usd"});t.status(200).json({clientSecret:e.client_secret})}catch(e){t.status(500).json({error:e.message})}}r()}catch(e){r(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[702],()=>__webpack_exec__(4375));module.exports=a})();