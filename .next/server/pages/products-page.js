"use strict";(()=>{var e={};e.id=413,e.ids=[413,660],e.modules={8985:(e,t,r)=>{r.r(t),r.d(t,{config:()=>m,default:()=>h,getServerSideProps:()=>x,getStaticPaths:()=>g,getStaticProps:()=>p,reportWebVitals:()=>j,routeModule:()=>w,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>P,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>S});var s={};r.r(s),r.d(s,{default:()=>ProductsPage});var a=r(7093),l=r(5244),i=r(1323),o=r(9209),c=r.n(o),n=r(9597),d=r(997),u=r(6689);function ProductsPage(){let[e]=(0,u.useState)(productsData||[]),[t,r]=(0,u.useState)([]),[s,a]=(0,u.useState)([]),[l,i]=(0,u.useState)([]),[o,c]=(0,u.useState)(""),[n,h]=(0,u.useState)(12),[p,g]=(0,u.useState)(1),[x,m]=(0,u.useState)(new Set),[j,S]=(0,u.useState)([]),toggleFilter=(e,t,r)=>{e(t.includes(r)?t.filter(e=>e!==r):[...t,r]),g(1)},v=(0,u.useMemo)(()=>{let r=[...e];return t.length&&(r=r.filter(e=>{let r=e.category;return Array.isArray(r)?r.some(e=>t.includes(e)):t.includes(r)})),s.length&&(r=r.filter(e=>{let t=e.size;return Array.isArray(t)?t.some(e=>s.includes(e)):s.includes(t)})),l.length&&(r=r.filter(e=>{let t=e.colors||(e.color?[e.color]:[]);return t.some(e=>l.includes(e))})),"price-low"===o?r.sort((e,t)=>e.price-t.price):"price-high"===o?r.sort((e,t)=>t.price-e.price):"name"===o&&r.sort((e,t)=>e.name.localeCompare(t.name)),r},[e,t,s,l,o]),P=Math.ceil(v.length/n),b=v.slice((p-1)*n,p*n),toggleWishlist=e=>{m(t=>{let r=new Set(t);return r.has(e)?(r.delete(e),showToast("Removed from wishlist")):(r.add(e),showToast("Added to wishlist")),r})},addToCart=e=>{console.log(`Add to cart: ${e}`),showToast("Product added to cart")},showToast=(e="",t="")=>{let r=Date.now();S(t=>[...t,{id:r,message:e}]),setTimeout(()=>S(e=>e.filter(e=>e.id!==r)),3e3)},f=(0,u.useMemo)(()=>{let t=new Set;return e.forEach(e=>{Array.isArray(e.category)?e.category.forEach(e=>t.add(e)):e.category&&t.add(e.category)}),[...t]},[e]),w=(0,u.useMemo)(()=>{let t=new Set;return e.forEach(e=>{Array.isArray(e.size)?e.size.forEach(e=>t.add(e)):e.size&&t.add(e.size)}),[...t]},[e]),_=(0,u.useMemo)(()=>{let t=new Set;return e.forEach(e=>{Array.isArray(e.colors)?e.colors.forEach(e=>t.add(e)):e.color&&t.add(e.color)}),[...t]},[e]),formatPrice=e=>`\xa3${e.toFixed(2)}`;return(0,d.jsxs)(d.Fragment,{children:[d.jsx("h1",{children:"All Products"}),(0,d.jsxs)("div",{children:[d.jsx("h2",{children:"Filters"}),(0,d.jsxs)("div",{children:[d.jsx("p",{children:"Categories:"}),f.map(e=>(0,d.jsxs)("label",{children:[d.jsx("input",{type:"checkbox",checked:t.includes(e),onChange:()=>toggleFilter(r,t,e)}),e]},e))]}),(0,d.jsxs)("div",{children:[d.jsx("p",{children:"Sizes:"}),w.map(e=>(0,d.jsxs)("label",{children:[d.jsx("input",{type:"checkbox",checked:s.includes(e),onChange:()=>toggleFilter(a,s,e)}),e]},e))]}),(0,d.jsxs)("div",{children:[d.jsx("p",{children:"Colors:"}),_.map(e=>(0,d.jsxs)("label",{children:[d.jsx("input",{type:"checkbox",checked:l.includes(e),onChange:()=>toggleFilter(i,l,e)}),e]},e))]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{children:["Sort:",(0,d.jsxs)("select",{value:o,onChange:e=>c(e.target.value),children:[d.jsx("option",{value:"",children:"Relevance"}),d.jsx("option",{value:"price-low",children:"Price Low to High"}),d.jsx("option",{value:"price-high",children:"Price High to Low"}),d.jsx("option",{value:"name",children:"Name"})]})]}),(0,d.jsxs)("label",{children:["Items per page:",d.jsx("select",{value:n,onChange:e=>h(Number(e.target.value)),children:[12,24,48].map(e=>d.jsx("option",{value:e,children:e},e))})]})]})]}),d.jsx("div",{children:0===b.length?d.jsx("p",{children:"No products found."}):b.map(e=>(0,d.jsxs)("div",{children:[d.jsx("img",{src:e.image||"https://placehold.co/300x300?text=Product+Image",alt:e.name,onError:e=>{e.target.src="https://placehold.co/300x300?text=No+Image"}}),d.jsx("h3",{children:e.name}),d.jsx("p",{children:formatPrice(e.price)}),d.jsx("button",{onClick:()=>addToCart(e.id),children:"Add to Cart"}),d.jsx("button",{onClick:()=>toggleWishlist(e.id),children:x.has(e.id)?"♥ In Wishlist":"♡ Wishlist"})]},e.id))}),d.jsx("div",{children:P>1&&Array.from({length:P},(e,t)=>d.jsx("button",{onClick:()=>g(t+1),disabled:p===t+1,children:t+1},t+1))}),d.jsx("div",{children:j.map(e=>d.jsx("div",{children:e.message},e.id))})]})}r(3286);let h=(0,i.l)(s,"default"),p=(0,i.l)(s,"getStaticProps"),g=(0,i.l)(s,"getStaticPaths"),x=(0,i.l)(s,"getServerSideProps"),m=(0,i.l)(s,"config"),j=(0,i.l)(s,"reportWebVitals"),S=(0,i.l)(s,"unstable_getStaticProps"),v=(0,i.l)(s,"unstable_getStaticPaths"),P=(0,i.l)(s,"unstable_getStaticParams"),b=(0,i.l)(s,"unstable_getServerProps"),f=(0,i.l)(s,"unstable_getServerSideProps"),w=new a.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/products-page",pathname:"/products-page",bundlePath:"",filename:""},components:{App:n.default,Document:c()},userland:s})},1649:e=>{e.exports=require("next-auth/react")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},1017:e=>{e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[209,450,195],()=>__webpack_exec__(8985));module.exports=r})();