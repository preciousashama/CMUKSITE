(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{6933:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product-detail",function(){return n(6549)}])},6549:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return ProductDetail}});var t=n(5893),s=n(7294);function ProductDetail(){var e;let[i,n]=(0,s.useState)(null),[l,r]=(0,s.useState)(""),[a,d]=(0,s.useState)({}),[c,o]=(0,s.useState)("left"),[h,u]=(0,s.useState)(""),[p,x]=(0,s.useState)(null);if((0,s.useEffect)(()=>{var e,i;let t=new URLSearchParams(window.location.search),s=t.get("id"),l=s?parseInt(s):null;if(!l){n(null);return}let a=products.find(e=>e.id===l);if(!a){n(null);return}n(a),r((null===(e=a.colors)||void 0===e?void 0:e[0])||"Black");let c=null===(i=a.category)||void 0===i?void 0:i.toLowerCase().includes("bag"),o={};(c?["One Size"]:["XS","S","M","L","XL","XXL"]).forEach(e=>o[e]=0),d(o),document.title="My Shop - ".concat(a.name)},[]),null===i)return(0,t.jsx)("p",{children:"Product not found."});let j=null===(e=i.category)||void 0===e?void 0:e.toLowerCase().includes("bag"),m=i.colors||["Black","White","Red","Blue"];function formatPrice(e){return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e)}let f=Object.values(a).reduce((e,i)=>e+(parseInt(i)||0),0),v=f*i.price;function showToast(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";x({message:e,type:i}),setTimeout(()=>x(null),3e3)}function handlePlacementChange(e){o(e.target.value)}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("main",{children:[(0,t.jsx)("div",{children:(0,t.jsx)("a",{href:"products.html",children:"â† Back to Products"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("img",{src:i.image,alt:i.name,style:{width:"100%",height:"auto"}}),h&&(0,t.jsx)("img",{src:h,alt:"Uploaded Design",style:{position:"absolute",maxWidth:"40%",pointerEvents:"none"},className:c.replace(/\s+/g,"-")}),!h&&(0,t.jsx)("div",{children:(0,t.jsx)("p",{children:"Your design will appear here"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:i.name}),(0,t.jsx)("p",{children:formatPrice(i.price)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Description"}),(0,t.jsx)("p",{children:i.description})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"1. SELECT COLOR"}),(0,t.jsx)("div",{children:m.map((e,i)=>(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",name:"color",value:e,checked:l===e,onChange:()=>r(e)}),e]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"2. SELECT SIZE & QUANTITY"}),(0,t.jsx)("div",{children:(j?["One Size"]:["XS","S","M","L","XL","XXL"]).map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:e}),(0,t.jsx)("input",{type:"number",min:0,max:100,value:a[e]||0,onChange:i=>(function(e,i){let n=Math.max(0,Number(i)||0);d(i=>({...i,[e]:n}))})(e,i.target.value)})]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"3. SELECT PLACEMENT"}),(0,t.jsx)("div",{children:["left","right","centre","bottom right","bottom left"].map(e=>(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",name:"placement",value:e,checked:c===e,onChange:handlePlacementChange}),e.charAt(0).toUpperCase()+e.slice(1)]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Unit Price:"})," ",(0,t.jsx)("span",{children:formatPrice(i.price)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Sub-Total:"})," ",(0,t.jsx)("span",{children:formatPrice(v)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{disabled:0===f,onClick:function(){if(0===f){showToast("Please select at least one size and quantity","error");return}Object.entries(a).forEach(e=>{let[n,t]=e;t>0&&CartManager.addToCart(i.id,t,{color:l,size:n})}),showToast("".concat(f," ").concat(1===f?"item":"items"," added to bag"),"success")},children:"ADD TO BAG"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"file",id:"design-upload",name:"design_upload",accept:"image/*",style:{display:"none"},onChange:function(e){let i=e.target.files[0];if(!i)return;let n=new FileReader;n.onload=e=>{u(e.target.result)},n.readAsDataURL(i)}}),(0,t.jsx)("label",{htmlFor:"design-upload",style:{cursor:"pointer"},children:"UPLOAD YOUR DESIGN"})]}),(0,t.jsx)("button",{onClick:function(){WishlistManager.isInWishlist(i.id)?(WishlistManager.removeFromWishlist(i.id),showToast("Removed from wishlist","info")):(WishlistManager.addToWishlist(i.id),showToast("Added to wishlist","success"))},children:WishlistManager.isInWishlist(i.id)?"REMOVE FROM WISHLIST":"ADD TO WISHLIST"})]})]})]})]}),p&&(0,t.jsx)("div",{role:"alert","aria-live":"assertive",children:p.message})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6933)}),_N_E=e.O()}]);